<!--pages/home/home.wxml-->
<wxs src="../utils/distance.wxs" module="tools"/>
<view wx:if="{{hasBodyData}}">
    <!--    <view class='flex-wrp-row'>
            <view class='item-left flex-wrp-row'>
                <image src='../../image/logo_xhg.png' class='icon-left' mode='aspectFit'></image>
            </view>
            <view class='item-right flex-wrp-row'>
                <image src='../../image/icon_home_msg.png' class='icon-right' mode='aspectFit'></image>
            </view>
            <view class='item-right flex-wrp-row'>
                <image src='../../image/icon_home_service.png' class='icon-right' mode='aspectFit'></image>
            </view>
        </view>-->
    <swiper class='swiper-box' indicator-dots="{{indicatorDots}}" autoplay="{{autoplay}}" interval="{{interval}}"
            duration="{{duration}}" circular="{{circular}}">
        <block wx:for="{{ bodyData.responseBody.data.headBannerList }}" wx:key="item">
            <swiper-item>
                <view>
                    <image src="{{ item.url }}" mode='scaleToFill' style="width: 710rpx; height:242.63rpx"></image>
                </view>
            </swiper-item>
        </block>
    </swiper>
    <view class='flex-wrp-row-margin'>
        <blocl wx:for="{{ bodyData.responseBody.data.iconInfoDTOList }}" wx:key="item">
            <view class='flex-wrp-column' style="height:180rpx; width: 187.5rpx">
                <image src="{{ item.iconPath }}" class='icon-info' mode='scaleToFill'></image>
                <text style="font-size: 26rpx; margin-top: 16rpx">{{item.name}}</text>
            </view>
        </blocl>
    </view>
    <view class='flex-wrp-row-margin'>
        <blocl wx:for="{{ bodyData.responseBody.data.activityBannerList }}" wx:key="item">
            <image src="{{ item.url }}" class='icon-info' mode='aspectFit'
                   style="height:160rpx; width: 340rpx; margin: 18.5rpx; box-shadow:0px 2px 5px 5px ghostwhite;"></image>
        </blocl>
    </view>
    <swiper style="box-shadow:0px 2px 5px 5px ghostwhite; margin: 20rpx; width: 710rpx; height: 310rpx">
        <block wx:for="{{ bodyData.responseBody.data.sitePageList }}" wx:key="item">
            <swiper-item>
                <view bindtap="toMap" data-latitude="{{item.latitude}}}" data-longitude="{{item.longitude}}}">
                    <view class="flex-wrp-row">
                        <view style="margin-left: 16rpx; margin-top: 16rpx; float: left; flex: 1;">
                            <image src='../../image/icon_location_point.png' class='icon-right'
                                   mode='aspectFit'></image>
                        </view>
                        <text style="font-size: 26rpx;margin-right: 16rpx;margin-top: -20rpx;">
                            {{tools.getFlatternDistance(latitude, longitude, item.latitude, item.longitude)}}ç±³
                        </text>
                        <image src='../../image/icon_right_arrow.png' class='icon-right-small' mode='aspectFit'
                               style="margin-right: 16rpx; margin-top: 16rpx;"></image>
                    </view>
                    <view class='flex-wrp-column' style="margin-top: -100rpx;">
                        <view class='flex-wrp-column'>
                            <text style="font-size: 36rpx;">
                                {{item.siteAddressApartment}}
                            </text>
                            <text style="font-size: 26rpx; margin-top: 16rpx">{{item.siteAddressStreet + " " +
                                item.siteAddressDetail}}
                            </text>
                        </view>
                        <view class="flex-wrp-row" style="margin-top: 50rpx; width: 710rpx; margin-right: 30rpx">
                            <block wx:for="{{ deviceInfo.responseBody.data.recyclingInfoList }}" wx:key="item">
                                <view class='flex-wrp-column' style="flex-grow:1;">
                                    <image src='{{deviceIconSrc[item.type]}}' class='icon-right'
                                           mode='aspectFit'></image>
                                    <text style="font-size: 26rpx;">
                                        {{item.name}}
                                    </text>
                                </view>
                            </block>
                        </view>
                    </view>
                </view>
            </swiper-item>
        </block>
    </swiper>
</view>